dist: trusty
sudo: required
services:
- docker

env:
  matrix:
  - ARCH=amd64
  - ARCH=arm64
  - ARCH=armel
  - ARCH=armhf
  - ARCH=i386
  - ARCH=mips
  - ARCH=mips64el
  - ARCH=mipsel
  - ARCH=ppc64el
  - ARCH=s390x
  global:
  - secure: q+2qb8V67SaryrU8AXNpwYIu9VjoCo0DwBMKpeAK16OxMrwphBJ4uxR2MQ/7SEXYRUt2qaev+2arKqTm737eUA+QC4SyXrJ1GH/M0C3a8h3VQwHpVYklt44s2mcDlFZqEDrwLioRkV/n0Rh/jsTTBW6QadMRmE2UTK/klb0Kba/793EIrL/eeY8Y1F7QXHHn3vzSWwBIoHL1e1GAq2CT4i0khT/hwR2vxo73Z4A14AU8QOL9/HOkrRWqjbe0pY6xXAwm9wOb7PZAKTcdidJuNmn6zkfKRVoJivXC2kNdaqsriSPBqTOSp7MZWVZQWZUV/VKLgHTqs2pt1tlzNzy5FWGDkqOKJoe0ijeRyffof5ZiC0HUDTXGGak8ZYhCXohHlFRftUFLEdnrtcVPYr32FGhFKqUHJ7a7rO7lrQXBnBF+LJEnVZeambZTx3cEOgMXyMG6wB86WyHKODg7dpG7qXW/lG42KwDaE6f8roC9rnaZ3fdkKzJGpUtv4FeITW+s7+WD/Ce5rhpa97K4gA38rMsHmj26Pvb0fdEz/1YB+n8luLQs3oEvtFo+oWj4lpAB8jFgf83Syy8s/Ngbbeva93jBE2vJut4XUAU9GgT1tvPNv2lDdghbfkIkgvGzLIELHtJzoWK+HaLUwL11/c59ALWZgI6ZpdpoWUMFwUgjGcY=
  - DOCKER_REPO=vicamo/laarid-docker

branches:
  only: personal

addons:
  apt:
    sources:
    - sourceline: 'deb http://archive.ubuntu.com/ubuntu/ devel universe'
    packages:
    - binfmt-support
    - qemu-user-static

script:
- docker build -t ${DOCKER_REPO}:$ARCH devel/$ARCH

after_success:
- if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then
  docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD";
  docker push ${DOCKER_REPO}:$ARCH;
  fi
